var person = [{
	name:  'illustrio',
	motto:  '海量图标多种模板',
	href:  'https://illustrio.com/',
	src: 'https://image.thum.io/get/https://illustrio.com/',
	sorts:  'icon'
},
{
	name:  '60logo',
	motto:  '品牌logo，矢量下载',
	href:  'http://www.60logo.com/',
	src: 'https://image.thum.io/get/http://www.60logo.com/',
	sorts:  'icon'
},
{
	name:  'iOSIconGallery',
	motto:  'APP图标收录和欣赏',
	href:  'https://www.iosicongallery.com/',
	src: 'https://image.thum.io/get/https://www.iosicongallery.com/',
	sorts:  'icon'
},
{
	name:  'ICONFONT',
	motto:  '著名的阿里巴巴旗下icon图标网站',
	href:  'https://www.iconfont.cn/',
	src: 'https://image.thum.io/get/https://www.iconfont.cn/',
	sorts:  'icon'
},
{
	name:  'iconmonstr',
	motto:  '高质量免费图标网站',
	href:  'https://iconmonstr.com/',
	src: 'https://image.thum.io/get/https://iconmonstr.com/',
	sorts:  'icon'
},
{
	name:  '图标工场',
	motto:  '一键快速生成iOSAndroid，WindowsPhoneWebAppiWatch(watchOS)PhoneGap(Cordova)等移动平台不同大小(规格尺寸)的App图标，快速预览，提供丰富选项，可以直接打包发布到应用市场，并提供相应的PSD模板。',
	href:  'https://icon.wuruihong.com/',
	src: 'https://image.thum.io/get/https://icon.wuruihong.com/',
	sorts:  'icon'
},
{
	name:  'loading制作',
	motto:  '傻瓜式loading在线制作AnimatedGIFfromSVGIconsthousandsofSVGicons+tonsofCSSanimations=infinitecreativity',
	href:  'https://loading.io/icon/#',
	src: 'https://image.thum.io/get/https://loading.io/icon/',
	sorts:  'icon'
},
{
	name:  'icomoon',
	motto:  '矢量图打包成图标字体的技术平台',
	href:  'https://icomoon.io/',
	src: 'https://image.thum.io/get/https://icomoon.io/',
	sorts:  'icon'
},
{
	name:  'Easyicon',
	motto:  '图标搜索大全',
	href:  'http://www.easyicon.net/',
	src: 'https://image.thum.io/get/http://www.easyicon.net/',
	sorts:  'icon'
},
{
	name:  'TheNounProject',
	motto:  '高质量图标下载',
	href:  'https://thenounproject.com/',
	src: 'https://image.thum.io/get/https://thenounproject.com/',
	sorts:  'icon'
},
{
	name:  'iconfinder',
	motto:  '高质量付费图标下载',
	href:  'https://www.iconfinder.com/',
	src: 'https://image.thum.io/get/https://www.iconfinder.com/',
	sorts:  'icon'
},
{
	name:  'themify',
	motto:  '一套免费特色iconfont图标支持WP插件',
	href:  'http://themify.me/themify-icons',
	src: 'https://image.thum.io/get/http://themify.me/themify-icons',
	sorts:  'icon'
},
{
	name:  'iconmonstr',
	motto:  '精美免费简洁icon',
	href:  'http://iconmonstr.com/',
	src: 'https://image.thum.io/get/http://iconmonstr.com/',
	sorts:  'icon'
},
{
	name:  'Logodust',
	motto:  '特赞！提供开源免费的LOGO',
	href:  'http://logodust.com/',
	src: 'https://image.thum.io/get/http://logodust.com/',
	sorts:  'icon'
},
{
	name:  'Iconjar',
	motto:  '免费图标素材管理工具',
	href:  'http://geticonjar.com/freebies',
	src: 'https://image.thum.io/get/http://geticonjar.com/freebies',
	sorts:  'icon'
},
{
	name:  'Flaticon',
	motto:  '海量扁平化免费的图标库',
	href:  'http://www.flaticon.com/',
	src: 'https://image.thum.io/get/http://www.flaticon.com/',
	sorts:  'icon'
},
{
	name:  'iconstore',
	motto:  '免费商用的高质量图标素材站',
	href:  'http://iconstore.co/',
	src: 'https://image.thum.io/get/http://iconstore.co/',
	sorts:  'icon'
},
{
	name:  'Logoeps',
	motto:  '各大国际品牌logo矢量图',
	href:  'http://www.logoeps.com/',
	src: 'https://image.thum.io/get/http://www.logoeps.com/',
	sorts:  'icon'
},
{
	name:  'IOSicongallery',
	motto:  'IOS平台APP图标收录和欣赏',
	href:  'http://iosicongallery.com/',
	src: 'https://image.thum.io/get/http://iosicongallery.com/',
	sorts:  'icon'
},
{
	name:  'Emojione',
	motto:  'Emoji表情图标整理',
	href:  'http://emojione.com/demo/',
	src: 'https://image.thum.io/get/http://emojione.com/demo/',
	sorts:  'icon'
},
{
	name:  'iconninja',
	motto:  '海量图标搜索可生成csssprites',
	href:  'http://www.iconninja.com/',
	src: 'https://image.thum.io/get/http://www.iconninja.com/',
	sorts:  'icon'
},
{
	name:  'icons8',
	motto:  '系统平台风格和web图标库',
	href:  'https://icons8.com/web-app/new-icons/all',
	src: 'https://image.thum.io/get/https://icons8.com/web-app/new-icons/all',
	sorts:  'icon'
},
{
	name:  'iconsfeed',
	motto:  'iOS系统应用图标收集和分享',
	href:  'http://www.iconsfeed.com/',
	src: 'https://image.thum.io/get/http://www.iconsfeed.com/',
	sorts:  'icon'
},
{
	name:  '草莓图标',
	motto:  '为开发者设计的一套免费开源图标库',
	href:  'http://chuangzaoshi.com/icon/',
	src: 'https://image.thum.io/get/http://chuangzaoshi.com/icon/',
	sorts:  'icon'
},
{
	name:  'IconArchive',
	motto:  '图标搜索。',
	href:  'http://www.iconarchive.com',
	src: 'https://image.thum.io/get/http://www.iconarchive.com',
	sorts:  'icon'
},
{
	name:  'FindIcons',
	motto:  '图标搜索。',
	href:  'http://findicons.com',
	src: 'https://image.thum.io/get/http://findicons.com',
	sorts:  'icon'
},
{
	name:  'Fontello',
	motto:  '图标字体制作工具',
	href:  'http://fontello.com/',
	src: 'https://image.thum.io/get/http://fontello.com/',
	sorts:  'icon'
},
{
	name:  'LogoEPS',
	motto:  '可以免费下载矢量LOGO模板的网站',
	href:  'http://www.logoeps.com',
	src: 'https://image.thum.io/get/http://www.logoeps.com',
	sorts:  'icon'
},
{
	name:  'Unsplash',
	motto:  '免费图片',
	href:  'https://unsplash.com/new?page=1',
	src: 'https://image.thum.io/get/https://unsplash.com/',
	sorts:  'picture'
},
{
	name:  'StartupStockPhotos',
	motto:  '免费图片',
	href:  'http://startupstockphotos.com/',
	src: 'https://image.thum.io/get/http://startupstockphotos.com/',
	sorts:  'picture'
},
{
	name:  'Magdeleine',
	motto:  '免费图片',
	href:  'http://magdeleine.co/license/cc0/',
	src: 'https://image.thum.io/get/http://magdeleine.co/license/cc0/',
	sorts:  'picture'
},
{
	name:  'SplitShire',
	motto:  '免费图片',
	href:  'http://www.splitshire.com/recent-photos/',
	src: 'https://image.thum.io/get/http://www.splitshire.com/recent-photos/',
	sorts:  'picture'
},
{
	name:  'FreeNatureStock',
	motto:  '免费图片',
	href:  'http://freenaturestock.com/',
	src: 'https://image.thum.io/get/http://freenaturestock.com/',
	sorts:  'picture'
},
{
	name:  'JayMantri',
	motto:  '免费图片',
	href:  'http://jaymantri.com/',
	src: 'https://image.thum.io/get/http://jaymantri.com/',
	sorts:  'picture'
},
{
	name:  'NewOldStock',
	motto:  '免费图片',
	href:  'http://nos.twnsnd.co/',
	src: 'https://image.thum.io/get/http://nos.twnsnd.co/',
	sorts:  'picture'
},
{
	name:  'Moveast',
	motto:  '免费图片',
	href:  'http://moveast.me/',
	src: 'https://image.thum.io/get/http://moveast.me/',
	sorts:  'picture'
},
{
	name:  'Skitterphoto',
	motto:  '免费图片',
	href:  'https://skitterphoto.com/',
	src: 'https://image.thum.io/get/https://skitterphoto.com/',
	sorts:  'picture'
},
{
	name:  'FancyCrave',
	motto:  '免费图片',
	href:  'http://fancycrave.tumblr.com/',
	src: 'https://image.thum.io/get/http://fancycrave.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'BossFight',
	motto:  '免费图片',
	href:  'https://bossfight.co/',
	src: 'https://image.thum.io/get/https://bossfight.co/',
	sorts:  'picture'
},
{
	name:  'RealisticShots',
	motto:  '免费图片',
	href:  'http://realisticshots.com/',
	src: 'https://image.thum.io/get/http://realisticshots.com/',
	sorts:  'picture'
},
{
	name:  'LittleVisuals',
	motto:  '免费图片',
	href:  'http://littlevisuals.co/',
	src: 'https://image.thum.io/get/http://littlevisuals.co/',
	sorts:  'picture'
},
{
	name:  'MMT',
	motto:  '免费图片',
	href:  'http://mmtstock.com/',
	src: 'https://image.thum.io/get/http://mmtstock.com/',
	sorts:  'picture'
},
{
	name:  'BarnImages',
	motto:  '免费图片',
	href:  'http://barnimages.com/',
	src: 'https://image.thum.io/get/http://barnimages.com/',
	sorts:  'picture'
},
{
	name:  'SnapwireSnaps',
	motto:  '免费图片',
	href:  'http://snapwiresnaps.tumblr.com/',
	src: 'https://image.thum.io/get/http://snapwiresnaps.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'PublicDomainArchive',
	motto:  '免费图片',
	href:  'http://publicdomainarchive.com/public-domain-images/',
	src: 'https://image.thum.io/get/http://publicdomainarchive.com/public-domain-images/',
	sorts:  'picture'
},
{
	name:  'CrowTheStone',
	motto:  '免费图片',
	href:  'http://crowthestone.tumblr.com/',
	src: 'https://image.thum.io/get/http://crowthestone.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'TravelCoffeeBook',
	motto:  '免费图片',
	href:  'http://travelcoffeebook.com/',
	src: 'https://image.thum.io/get/http://travelcoffeebook.com/',
	sorts:  'picture'
},
{
	name:  'ZoommyPhotos',
	motto:  '免费图片',
	href:  'http://zoommyapp.com/unique_photos',
	src: 'https://image.thum.io/get/http://zoommyapp.com/unique_photos',
	sorts:  'picture'
},
{
	name:  'Skuawk',
	motto:  '免费图片',
	href:  'http://skuawk.com/',
	src: 'https://image.thum.io/get/http://skuawk.com/',
	sorts:  'picture'
},
{
	name:  'StockImagePoint',
	motto:  '免费图片',
	href:  'http://www.stock-image-point.com/',
	src: 'https://image.thum.io/get/http://www.stock-image-point.com/',
	sorts:  'picture'
},
{
	name:  'FoodiesFeed',
	motto:  '免费图片',
	href:  'https://www.foodiesfeed.com/trending-photos/',
	src: 'https://image.thum.io/get/https://www.foodiesfeed.com/trending-photos/',
	sorts:  'picture'
},
{
	name:  'Streetwill',
	motto:  '免费图片',
	href:  'http://streetwill.co/',
	src: 'https://image.thum.io/get/http://streetwill.co/',
	sorts:  'picture'
},
{
	name:  'Cupcake',
	motto:  '免费图片',
	href:  'http://cupcake.nilssonlee.se/',
	src: 'https://image.thum.io/get/http://cupcake.nilssonlee.se/',
	sorts:  'picture'
},
{
	name:  'MyStockPhotos',
	motto:  '免费图片',
	href:  'http://mystock.photos/',
	src: 'https://image.thum.io/get/http://mystock.photos/',
	sorts:  'picture'
},
{
	name:  'Epicantus',
	motto:  '免费图片',
	href:  'http://epicantus.tumblr.com/',
	src: 'https://image.thum.io/get/http://epicantus.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'BaraArt',
	motto:  '免费图片',
	href:  'http://www.bara-art.com/photos/',
	src: 'https://image.thum.io/get/http://www.bara-art.com/photos/',
	sorts:  'picture'
},
{
	name:  'LibreShot',
	motto:  '免费图片',
	href:  'https://libreshot.com/',
	src: 'https://image.thum.io/get/https://libreshot.com/',
	sorts:  'picture'
},
{
	name:  'BrainAndStorm',
	motto:  '免费图片',
	href:  'http://brainandstorm.com/visuals',
	src: 'https://image.thum.io/get/http://brainandstorm.com/visuals',
	sorts:  'picture'
},
{
	name:  'CC0photo',
	motto:  '免费图片',
	href:  'http://cc0.photo/',
	src: 'https://image.thum.io/get/http://cc0.photo/',
	sorts:  'picture'
},
{
	name:  'Photocrops',
	motto:  '免费图片',
	href:  'http://www.photocrops.com/browse/',
	src: 'https://image.thum.io/get/http://www.photocrops.com/browse/',
	sorts:  'picture'
},
{
	name:  'Foodshot',
	motto:  '免费图片',
	href:  'http://foodshot.co/',
	src: 'https://image.thum.io/get/http://foodshot.co/',
	sorts:  'picture'
},
{
	name:  'GoodFreePhotos',
	motto:  '免费图片',
	href:  'https://www.goodfreephotos.com/tags/featured',
	src: 'https://image.thum.io/get/https://www.goodfreephotos.com/tags/featured',
	sorts:  'picture'
},
{
	name:  'PhotoCollections',
	motto:  '免费图片',
	href:  'http://photocollections.io/',
	src: 'https://image.thum.io/get/http://photocollections.io/',
	sorts:  'picture'
},
{
	name:  'Polarfox',
	motto:  '免费图片',
	href:  'http://photos.polarfox.com/',
	src: 'https://image.thum.io/get/http://photos.polarfox.com/',
	sorts:  'picture'
},
{
	name:  'Freestocks',
	motto:  '免费图片',
	href:  'http://freestocks.org/',
	src: 'https://image.thum.io/get/http://freestocks.org/',
	sorts:  'picture'
},
{
	name:  'SemiRecta',
	motto:  '免费图片',
	href:  'http://semi-recta.tumblr.com/',
	src: 'https://image.thum.io/get/http://semi-recta.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'Pexels',
	motto:  '免费图片',
	href:  'https://www.pexels.com/leaderboard/',
	src: 'https://image.thum.io/get/https://www.pexels.com/leaderboard/',
	sorts:  'picture'
},
{
	name:  'LookingGlass',
	motto:  '免费图片',
	href:  'https://lookingglassfreephotos.tumblr.com/',
	src: 'https://image.thum.io/get/https://lookingglassfreephotos.tumblr.com/',
	sorts:  'picture'
},
{
	name:  'GoodStockPhotos',
	motto:  '免费图片',
	href:  'https://goodstock.photos/',
	src: 'https://image.thum.io/get/https://goodstock.photos/',
	sorts:  'picture'
},
{
	name:  'Pixabay',
	motto:  '免费图片',
	href:  'https://pixabay.com/en/editors_choice/',
	src: 'https://image.thum.io/get/https://pixabay.com/en/editors_choice/',
	sorts:  'picture'
},
{
	name:  'Realgraphy',
	motto:  '免费图片',
	href:  'https://realgraphy.org/',
	src: 'https://image.thum.io/get/https://realgraphy.org/',
	sorts:  'picture'
},
{
	name:  'Freelyphotos',
	motto:  '免费图片',
	href:  'http://freelyphotos.com/',
	src: 'https://image.thum.io/get/http://freelyphotos.com/',
	sorts:  'picture'
},
{
	name:  'StockSandwich',
	motto:  '免费图片',
	href:  'https://stocksandwich.com/',
	src: 'https://image.thum.io/get/https://stocksandwich.com/',
	sorts:  'picture'
},
{
	name:  'RightLight',
	motto:  '免费图片',
	href:  'http://rightlight.nordwoodthemes.com/',
	src: 'https://image.thum.io/get/http://rightlight.nordwoodthemes.com/',
	sorts:  'picture'
},
{
	name:  'PickleJar',
	motto:  '免费图片',
	href:  'http://picklejar.in/',
	src: 'https://image.thum.io/get/http://picklejar.in/',
	sorts:  'picture'
},
{
	name:  'Stockified',
	motto:  '免费图片',
	href:  'https://www.stockified.com/',
	src: 'https://image.thum.io/get/https://www.stockified.com/',
	sorts:  'picture'
},
{
	name:  'Visualhunt',
	motto:  '免费图片',
	href:  'https://visualhunt.com/',
	src: 'https://image.thum.io/get/https://visualhunt.com/',
	sorts:  'picture'
},
{
	name:  'Burst',
	motto:  '免费图片',
	href:  'https://burst.shopify.com/photos',
	src: 'https://image.thum.io/get/https://burst.shopify.com/photos',
	sorts:  'picture'
},
{
	name:  'Monisphoto',
	motto:  '免费图片',
	href:  'http://monisphoto.com/',
	src: 'https://image.thum.io/get/http://monisphoto.com/',
	sorts:  'picture'
},
{
	name:  'AltPhotos',
	motto:  '免费图片',
	href:  'https://altphotos.com/altphotos/',
	src: 'https://image.thum.io/get/https://altphotos.com/altphotos/',
	sorts:  'picture'
},
{
	name:  'SlonPics',
	motto:  '免费图片',
	href:  'http://www.slon.pics/shop/',
	src: 'https://image.thum.io/get/http://www.slon.pics/shop/',
	sorts:  'picture'
},
{
	name:  'Polayoutu',
	motto:  '免费图片',
	href:  'http://www.polayoutu.com/collections',
	src: 'https://image.thum.io/get/http://www.polayoutu.com/collections',
	sorts:  'picture'
},
{
	name:  'Pxhere',
	motto:  '免费图片',
	href:  'https://pxhere.com/en/photos?order=latest',
	src: 'https://image.thum.io/get/https://pxhere.com/en/photos?order=latest',
	sorts:  'picture'
},
{
	name:  'kisspng',
	motto:  '免费图片',
	href:  'https://www.kisspng.com/',
	src: 'https://image.thum.io/get/https://www.kisspng.com/',
	sorts:  'png'
},
{
	name:  'pngimg',
	motto:  '免费图片',
	href:  'http://pngimg.com/',
	src: 'https://image.thum.io/get/http://pngimg.com/',
	sorts:  'png'
},
{
	name:  'freePNGs',
	motto:  '免费图片',
	href:  'https://www.freepngs.com/',
	src: 'https://image.thum.io/get/https://www.freepngs.com/',
	sorts:  'png'
},
{
	name:  'freepik',
	motto:  '免费图片',
	href:  'https://www.freepik.com',
	src: 'https://image.thum.io/get/https://www.freepik.com',
	sorts:  'png'
},
{
	name:  'PNGMARK',
	motto:  '免费图片',
	href:  'http://www.pngmart.com/',
	src: 'https://image.thum.io/get/http://www.pngmart.com/',
	sorts:  'png'
},
{
	name:  'hippopx',
	motto:  '免费图片',
	href:  'https://www.hippopx.com/',
	src: 'https://image.thum.io/get/https://www.hippopx.com/',
	sorts:  'picture'
},
{
	name:  'PickPik',
	motto:  '免费图片',
	href:  'https://www.pickpik.com/',
	src: 'https://image.thum.io/get/https://www.pickpik.com/',
	sorts:  'picture'
},
{
	name:  'Gratisography',
	motto:  '免费图片',
	href:  'http://gratisography.com/',
	src: 'https://image.thum.io/get/http://gratisography.com/',
	sorts:  'picture'
},
{
	name:  'picjumbo',
	motto:  '免费图片',
	href:  'https://picjumbo.com/',
	src: 'https://image.thum.io/get/https://picjumbo.com/',
	sorts:  'picture'
},
{
	name:  'istockphoto',
	motto:  '免费图片',
	href:  'https://www.istockphoto.com/',
	src: 'https://image.thum.io/get/https://www.istockphoto.com/',
	sorts:  'picture'
},
{
	name:  'PixelSquid',
	motto:  '免费图片',
	href:  'https://www.pixelsquid.com/png',
	src: 'https://image.thum.io/get/https://www.pixelsquid.com/png',
	sorts:  'png'
},]
var inp = document.getElementsByClassName('inp')[0],
    btnList = document.getElementsByClassName('btn-list')[0],
    prompt = document.getElementsByClassName('prompt')[0],
    user = document.getElementsByClassName('user')[0];

function createList(list) {
    var str = '';
    list.forEach(function(ele, index) {
        str += '<a href =' + ele.href + ' target="_self">\
                    <li>\
                    <div class="head-img">\
                    <img src=' + ele.src + ' alt="">\
                    </div>\
                    <div class="tit">\
                    <p class="name">' + ele.name + '</p>\
                    <p class="motto">' + ele.motto + '</p>\
                    </div>\
                    </li>\
                </a>'
    })
    user.innerHTML = str
}
createList(person);
var state = createStore({
    text: '',
    sorts: 'all'
})
state.addFn(function() {
    createList(perArr());
    anti(show());
})
inp.oninput = anti(getInput, 1000)

function getInput() {
    state.change({
        type: 'text',
        value: this.value
    });
}

function anti(hander, delay) {
    var timer = null;
    return function() {
        var _self = this,
            args = arguments;
        clearTimeout(timer)
        timer = setTimeout(function() {
            hander.apply(_self, args)
        }, delay)
    }
}

function show() {
    if (user.children.length == 0) {
        prompt.style.display = 'block'
    } else {
        prompt.style.display = 'none'
    }
}

function addFn(obj, arr) {
    return function() {
        var lastArr = arr;
        for (prop in obj) {
            lastArr = obj[prop](state.getState()[prop], lastArr)
        }
        return lastArr
    }
}
var perArr = addFn({
    text: filterText,
    sorts: filtersorts
}, person)
btnList.onclick = function(e) {
    var tar = e.target;
    if (tar.tagName == 'OPTION') {
        document.getElementsByClassName('active')[0].className = '';
        tar.className = 'active';
        state.change({
            type: 'sorts',
            value: tar.getAttribute('sorts')
        })
    }
}

function filterText(text, arr) {
    return arr.filter(function(ele, index) {
        if (ele.name.indexOf(text) != -1 || ele.motto.indexOf(text) != -1) {
            return true
        }
    })
}

function filtersorts(sorts, arr) {
    if (sorts == 'all') {
        return arr
    } else {
        return arr.filter(function(ele, index) {
            if (ele.sorts == sorts) {
                return true
            }
        })
    }
}